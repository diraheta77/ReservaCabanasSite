@page
@model ReservaCabanasSite.Pages.Reservas.CreateModel
@{
    ViewData["Title"] = "Nueva Reserva";
}

<h2>Nueva Reserva</h2>
<form method="post">
    <input type="hidden" asp-for="Paso" />

    @if (Model.Paso == 1)
    {
        <div>
            <h4>Paso 1: Datos de la Reserva</h4>
            <!-- Campos de reserva -->
            <div class="form-group">
                <label>Cabaña</label>
                <select asp-for="Wizard.CabanaId" asp-items="Model.CabanasSelectList" class="form-control"></select>
            </div>
            <div class="form-group">
                <label>Desde</label>
                <input asp-for="Wizard.FechaDesde" type="date" class="form-control" />
            </div>
            <div class="form-group">
                <label>Hasta</label>
                <input asp-for="Wizard.FechaHasta" type="date" class="form-control" />
            </div>
            <div class="form-group">
                <label>Temporada</label>
                <select asp-for="Wizard.Temporada" class="form-control">
                    <option>Alta</option>
                    <option>Media</option>
                    <option>Baja</option>
                </select>
            </div>
            <div class="form-group">
                <label>Cantidad de Personas</label>
                <input asp-for="Wizard.CantidadPersonas" type="number" class="form-control" />
            </div>
            <div class="form-group">
                <label>Medio de Contacto</label>
                <select asp-for="Wizard.MedioContacto" class="form-control">
                    <option>Teléfono</option>
                    <option>Email</option>
                    <option>WhatsApp</option>
                </select>
            </div>
            <div class="form-group">
                <label>Observaciones</label>
                <textarea asp-for="Wizard.Observaciones" class="form-control"></textarea>
            </div>
            <button type="submit" name="accion" value="siguiente" class="btn btn-primary">Siguiente</button>
        </div>
    }
    else if (Model.Paso == 2)
    {
        <div>
            <h4>Paso 2: Datos del Cliente</h4>
            <!-- Campos de cliente -->
            <div class="form-group">
                <label>DNI</label>
                <input asp-for="Wizard.ClienteDni" class="form-control" />
            </div>
            <div class="form-group">
                <label>Nombre</label>
                <input asp-for="Wizard.ClienteNombre" class="form-control" />
            </div>
            <div class="form-group">
                <label>Apellido</label>
                <input asp-for="Wizard.ClienteApellido" class="form-control" />
            </div>
            <div class="form-group">
                <label>Email</label>
                <input asp-for="Wizard.ClienteEmail" class="form-control" />
            </div>
            <button type="submit" name="accion" value="anterior" class="btn btn-secondary">Anterior</button>
            <button type="submit" name="accion" value="siguiente" class="btn btn-primary">Siguiente</button>
        </div>
    }
    else if (Model.Paso == 3)
    {
        <div>
            <h4>Paso 3: Datos de Pago</h4>
            <!-- Campos de pago -->
            <div class="form-group">
                <label>Importe Total</label>
                <input asp-for="Wizard.ImporteTotal" class="form-control" />
            </div>
            <div class="form-group">
                <label>Seña</label>
                <input asp-for="Wizard.Sena" class="form-control" />
            </div>
            <div class="form-group">
                <label>Saldo</label>
                <input asp-for="Wizard.Saldo" class="form-control" />
            </div>
            <div class="form-group">
                <label>Medio de Pago</label>
                <select asp-for="Wizard.MedioPago" class="form-control">
                    <option>Efectivo</option>
                    <option>Transferencia</option>
                    <option>Tarjeta</option>
                </select>
            </div>
            <button type="submit" name="accion" value="anterior" class="btn btn-secondary">Anterior</button>
            <button type="submit" name="accion" value="siguiente" class="btn btn-primary">Siguiente</button>
        </div>
    }
    else if (Model.Paso == 4)
    {
        <div>
            <h4>Paso 4: Confirmación</h4>
            <p>Revisa los datos y confirma la reserva.</p>
            <div class="card mb-3 p-3">
                <h5>Datos de la Reserva</h5>
                <p><strong>Cabaña:</strong> @(Model.CabanasSelectList.FirstOrDefault(c => c.Value == Model.Wizard.CabanaId?.ToString())?.Text ?? "")</p>
                <p><strong>Desde:</strong> @Model.Wizard.FechaDesde?.ToShortDateString()</p>
                <p><strong>Hasta:</strong> @Model.Wizard.FechaHasta?.ToShortDateString()</p>
                <p><strong>Temporada:</strong> @Model.Wizard.Temporada</p>
                <p><strong>Cantidad de Personas:</strong> @Model.Wizard.CantidadPersonas</p>
                <p><strong>Medio de Contacto:</strong> @Model.Wizard.MedioContacto</p>
                <p><strong>Observaciones:</strong> @Model.Wizard.Observaciones</p>
            </div>
            <div class="card mb-3 p-3">
                <h5>Datos del Cliente</h5>
                <p><strong>DNI:</strong> @Model.Wizard.ClienteDni</p>
                <p><strong>Nombre:</strong> @Model.Wizard.ClienteNombre</p>
                <p><strong>Apellido:</strong> @Model.Wizard.ClienteApellido</p>
                <p><strong>Email:</strong> @Model.Wizard.ClienteEmail</p>
            </div>
            <div class="card mb-3 p-3">
                <h5>Datos de Pago</h5>
                <p><strong>Importe Total:</strong> @Model.Wizard.ImporteTotal</p>
                <p><strong>Seña:</strong> @Model.Wizard.Sena</p>
                <p><strong>Saldo:</strong> @Model.Wizard.Saldo</p>
                <p><strong>Medio de Pago:</strong> @Model.Wizard.MedioPago</p>
            </div>
            <button type="submit" name="accion" value="anterior" class="btn btn-secondary">Anterior</button>
            <button type="submit" name="accion" value="confirmar" class="btn btn-success">Confirmar Reserva</button>
        </div>
    }
</form>