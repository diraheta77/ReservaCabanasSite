@page
@model ReservaCabanasSite.Pages.Reservas.SeleccionarClienteModel
@{
    ViewData["Title"] = "Seleccionar Cliente";
}

<h2>Seleccionar Cliente</h2>

<form method="post">
    <div class="form-group">
        <label>Buscar por DNI</label>
        <input type="text" name="DniBusqueda" class="form-control" value="@Model.DniBusqueda" />
        <button type="submit" name="action" value="buscar" class="btn btn-secondary">Buscar</button>
    </div>
</form>

@if (Model.ClienteEncontrado != null)
{
    <div class="alert alert-success">
        Cliente encontrado: @Model.ClienteEncontrado.Nombre @Model.ClienteEncontrado.Apellido
        <form method="post">
            <input type="hidden" name="ClienteId" value="@Model.ClienteEncontrado.Id" />
            <button type="submit" name="action" value="seleccionar" class="btn btn-primary">Seleccionar</button>
        </form>
    </div>
}
else if (Model.BusquedaRealizada)
{
    <div class="alert alert-warning">
        Cliente no encontrado. Complete los datos para registrar un nuevo cliente.
    </div>
    <form method="post">
        <input type="hidden" name="Dni" value="@Model.DniBusqueda" />
        <div class="form-group">
            <label>Nombre</label>
            <input type="text" name="Nombre" class="form-control" required />
        </div>
        <div class="form-group">
            <label>Apellido</label>
            <input type="text" name="Apellido" class="form-control" required />
        </div>
        <div class="form-group">
            <label>Email</label>
            <input type="email" name="Email" class="form-control" />
        </div>
        <button type="submit" name="action" value="crear" class="btn btn-success">Crear y Seleccionar</button>
    </form>
}